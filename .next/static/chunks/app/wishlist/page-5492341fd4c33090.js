(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1720],{512:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1360:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1647:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var r=t(5155);t(2115);var a=t(3101),l=t(4269);let i=(0,a.F)("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-danger text-white hover:bg-danger/80",outline:"text-text-primary border-gray-300",success:"border-transparent bg-accent text-white hover:bg-accent/80"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...a})}},3457:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(5155),a=t(2115),l=t(2467),i=t(3101),c=t(4269);let n=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 disabled:hover:scale-100",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-danger text-white hover:bg-danger/90",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-lg px-3",lg:"h-14 rounded-2xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:d=!1,...o}=e,h=d?l.DX:"button";return(0,r.jsx)(h,{className:(0,c.cn)(n({variant:a,size:i,className:t})),ref:s,...o})});d.displayName="Button"},4269:(e,s,t)=>{"use strict";t.d(s,{$g:()=>i,cn:()=>l});var r=t(2821),a=t(5889);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}function i(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}},5694:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var r=t(5155),a=t(5239),l=t(2115);function i(e){let{src:s,alt:t,fill:i=!1,width:c,height:n,className:d="",priority:o=!1,fallbackText:h="Y",sizes:x}=e,[m,u]=(0,l.useState)(!1);return m?(0,r.jsx)("div",{className:"".concat(d," bg-primary/10 rounded-lg flex items-center justify-center"),children:(0,r.jsx)("span",{className:"text-primary font-bold text-lg",children:h})}):(0,r.jsx)(a.default,{src:s,alt:t,fill:i,width:c,height:n,className:d,priority:o,sizes:x,onError:()=>u(!0)})}},6948:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>n,Zp:()=>i,aR:()=>c});var r=t(5155),a=t(2115),l=t(4269);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-2xl border bg-white text-gray-950 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",t),...a})});i.displayName="Card";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});n.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-gray-600",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},7828:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8395:(e,s,t)=>{Promise.resolve().then(t.bind(t,9051))},9051:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(5155),a=t(6489),l=t(2115),i=t(2619),c=t.n(i),n=t(6948),d=t(3998),o=t(1647),h=t(5694),x=t(9559),m=t(512),u=t(1360),f=t(3457),p=t(7828);function g(){var e;let{data:s,status:t}=(0,a.useSession)(),[i,g]=(0,l.useState)([]),[y,j]=(0,l.useState)(!0),[v,N]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{(null==s?void 0:s.user)&&b()},[s]);let b=async()=>{if(null==s?void 0:s.user){j(!0);try{let e=await fetch("/api/wishlist");if(e.ok){let s=await e.json();g(s.wishlist||[])}else console.error("위시리스트 조회 실패")}catch(e){console.error("위시리스트 조회 중 오류:",e)}finally{j(!1)}}},w=async e=>{N(s=>new Set(s).add(e));try{let s=await fetch("/api/wishlist",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(s.ok)g(s=>s.filter(s=>s.productId._id!==e));else{let e=await s.json();alert("위시리스트에서 제거 실패: ".concat(e.error))}}catch(e){console.error("위시리스트에서 제거 중 오류:",e),alert("위시리스트에서 제거 중 오류가 발생했습니다.")}finally{N(s=>{let t=new Set(s);return t.delete(e),t})}},k=async e=>{try{let s=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,quantity:1})});if(s.ok)alert("장바구니에 추가되었습니다!");else{let e=await s.json();alert("장바구니 추가 실패: ".concat(e.error))}}catch(e){console.error("장바구니 추가 중 오류:",e),alert("장바구니 추가 중 오류가 발생했습니다.")}},I=async()=>{if(0===i.length)return;let e=i.filter(e=>"active"===e.productId.status);if(0===e.length)return void alert("장바구니에 추가할 수 있는 상품이 없습니다.");try{let s=0,t=0;for(let r of e)try{(await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:r.productId._id,quantity:1})})).ok?s++:t++}catch(e){t++}s>0?alert("".concat(s,"개 상품이 장바구니에 추가되었습니다.").concat(t>0?" (".concat(t,"개 실패)"):"")):alert("장바구니 추가에 실패했습니다.")}catch(e){console.error("전체 장바구니 추가 중 오류:",e),alert("장바구니 추가 중 오류가 발생했습니다.")}},A=async()=>{if(confirm("위시리스트를 모두 비우시겠습니까?"))try{let e=await fetch("/api/wishlist/clear",{method:"DELETE"});if(e.ok)g([]),alert("위시리스트가 비워졌습니다.");else{let s=await e.json();alert("위시리스트 비우기 실패: ".concat(s.error))}}catch(e){console.error("위시리스트 비우기 중 오류:",e),alert("위시리스트 비우기 중 오류가 발생했습니다.")}};if("loading"===t||y)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!s)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(n.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(n.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"로그인이 필요합니다"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"위시리스트를 확인하려면 로그인해주세요."}),(0,r.jsx)(d.$,{asChild:!0,children:(0,r.jsx)("a",{href:"/auth/signin",children:"로그인하기"})})]})})});let C=i.filter(e=>"active"===e.productId.status),E=i.filter(e=>"inactive"===e.productId.status);return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 py-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"relative w-20 h-20",children:(0,r.jsx)(h.default,{src:"/character/youniqle-3.png",alt:"Youniqle 캐릭터",fill:!0,className:"object-contain",sizes:"80px"})})}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"위시리스트"}),(0,r.jsxs)("p",{className:"text-xl text-gray-600",children:[null==(e=s.user)?void 0:e.name,"님이 좋아하는 상품들입니다"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["총 ",i.length,"개 상품"]}),C.length>0&&(0,r.jsxs)("span",{className:"text-sm text-green-600",children:["구매 가능 ",C.length,"개"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(d.$,{variant:"outline",onClick:b,className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"새로고침"]}),C.length>0&&(0,r.jsxs)(d.$,{onClick:I,className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"전체 장바구니 담기"]}),i.length>0&&(0,r.jsxs)(d.$,{variant:"destructive",onClick:A,className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"전체 삭제"]})]})]}),0===i.length?(0,r.jsx)(n.Zp,{className:"shadow-lg",children:(0,r.jsxs)(n.Wu,{className:"p-12 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)(f.A,{className:"h-16 w-16 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"위시리스트가 비어있습니다"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"마음에 드는 상품에 하트를 눌러 위시리스트에 추가해보세요!"}),(0,r.jsx)(d.$,{asChild:!0,children:(0,r.jsx)(c(),{href:"/products",children:"상품 둘러보기"})})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[C.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["구매 가능한 상품 (",C.length,"개)"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>(0,r.jsxs)(n.Zp,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-200 rounded-t-lg overflow-hidden",children:e.productId.images&&e.productId.images.length>0?(0,r.jsx)("img",{src:e.productId.images[0],alt:e.productId.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"h-16 w-16 text-gray-400"})})}),(0,r.jsx)(d.$,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>w(e.productId._id),disabled:v.has(e.productId._id),children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)(n.Wu,{className:"p-4",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o.E,{variant:"secondary",className:"text-xs",children:e.productId.category})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.productId.name}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[e.productId.price.toLocaleString(),"원"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["재고: ",e.productId.stock,"개"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(d.$,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:(0,r.jsxs)("a",{href:"/products/".concat(e.productId._id),children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"상세보기"]})}),(0,r.jsxs)(d.$,{size:"sm",className:"flex-1",onClick:()=>k(e.productId._id),children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"장바구니"]})]})]})]},e._id))})]}),E.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["품절된 상품 (",E.length,"개)"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(e=>(0,r.jsxs)(n.Zp,{className:"shadow-lg opacity-60",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-200 rounded-t-lg overflow-hidden",children:e.productId.images&&e.productId.images.length>0?(0,r.jsx)("img",{src:e.productId.images[0],alt:e.productId.name,className:"w-full h-full object-cover grayscale"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"h-16 w-16 text-gray-400"})})}),(0,r.jsx)("div",{className:"absolute top-2 left-2",children:(0,r.jsx)(o.E,{className:"bg-red-100 text-red-800",children:"품절"})}),(0,r.jsx)(d.$,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>w(e.productId._id),disabled:v.has(e.productId._id),children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)(n.Wu,{className:"p-4",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o.E,{variant:"secondary",className:"text-xs",children:e.productId.category})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.productId.name}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsxs)("span",{className:"text-lg font-bold text-gray-500 line-through",children:[e.productId.price.toLocaleString(),"원"]})}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(d.$,{variant:"outline",size:"sm",className:"flex-1",disabled:!0,children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"상세보기"]}),(0,r.jsxs)(d.$,{size:"sm",className:"flex-1",disabled:!0,children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"품절"]})]})]})]},e._id))})]})]})]})})}},9559:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},e=>{e.O(0,[5239,2619,1691,6489,8441,1255,7358],()=>e(e.s=8395)),_N_E=e.O()}]);