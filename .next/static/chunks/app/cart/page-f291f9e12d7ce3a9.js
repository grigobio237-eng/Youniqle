(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{512:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1299:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),r=t(2115),l=t(6489),i=t(6948),n=t(3998),c=t(5142),d=t(1647),o=t(5694),x=t(512),h=t(7125),m=t(6191),u=t(1360),f=t(8519),p=t(6398);let y=(0,t(5105).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var j=t(2619),g=t.n(j);function b(){let{data:e,status:s}=(0,l.useSession)(),[t,j]=(0,r.useState)(null),[b,v]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{(null==e?void 0:e.user)?k():"unauthenticated"===s&&v(!1)},[e,s]);let k=async()=>{try{let e=await fetch("/api/cart");if(e.ok){let s=await e.json();j(s.cart)}}catch(e){console.error("장바구니 조회 실패:",e)}finally{v(!1)}},A=async(e,s)=>{if(!(s<1)&&!(s>99)){w(e);try{let t=await fetch("/api/cart/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,quantity:s})});if(t.ok){let e=await t.json();j(e.cart)}else{let e=await t.json();alert("수량 업데이트 실패: ".concat(e.error))}}catch(e){console.error("수량 업데이트 실패:",e),alert("수량 업데이트 중 오류가 발생했습니다.")}finally{w(null)}}},C=async e=>{if(confirm("상품을 장바구니에서 제거하시겠습니까?"))try{let s=await fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(s.ok){let e=await s.json();j(e.cart)}else{let e=await s.json();alert("상품 제거 실패: ".concat(e.error))}}catch(e){console.error("상품 제거 실패:",e),alert("상품 제거 중 오류가 발생했습니다.")}};return"loading"===s||b?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?t&&0!==t.items.length?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"relative w-20 h-20",children:(0,a.jsx)(o.default,{src:"/character/youniqle-1.png",alt:"Youniqle 캐릭터",fill:!0,className:"object-contain",sizes:"80px"})})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"장바구니"}),(0,a.jsxs)("p",{className:"text-xl text-gray-600",children:["총 ",t.totalItems,"개의 상품"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4",children:t.items.map(e=>(0,a.jsx)(i.Zp,{className:"shadow-lg",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,a.jsx)("img",{src:e.productId.images[0]||"/placeholder-product.jpg",alt:e.productId.name,className:"w-full h-full object-cover rounded-lg"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2 truncate",children:e.productId.name}),(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:[e.price.toLocaleString(),"원"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(d.E,{variant:"secondary",children:[e.quantity,"개"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[(e.price*e.quantity).toLocaleString(),"원"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.$,{variant:"outline",size:"icon",onClick:()=>A(e.productId._id,e.quantity-1),disabled:N===e.productId._id||e.quantity<=1,children:(0,a.jsx)(h.A,{className:"h-4 w-4"})}),(0,a.jsx)(c.p,{type:"number",value:e.quantity,onChange:s=>{let t=parseInt(s.target.value)||1;A(e.productId._id,t)},className:"w-16 text-center",min:"1",max:"99",disabled:N===e.productId._id}),(0,a.jsx)(n.$,{variant:"outline",size:"icon",onClick:()=>A(e.productId._id,e.quantity+1),disabled:N===e.productId._id||e.quantity>=99,children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>C(e.productId._id),className:"text-red-500 hover:text-red-700",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]})]})})},e._id))}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"주문 요약"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"상품 금액"}),(0,a.jsxs)("span",{children:[t.totalAmount.toLocaleString(),"원"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"배송비"}),(0,a.jsx)("span",{children:t.totalAmount>=5e4?"무료":"3,000원"})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,a.jsx)("span",{children:"총 결제금액"}),(0,a.jsxs)("span",{children:[(t.totalAmount+(t.totalAmount>=5e4?0:3e3)).toLocaleString(),"원"]})]}),(0,a.jsx)(n.$,{className:"w-full",size:"lg",children:"주문하기"})]})]}),(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 mr-2"}),"배송 정보"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"배송비"}),(0,a.jsx)("span",{children:"3,000원"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"무료배송"}),(0,a.jsx)("span",{children:"5만원 이상"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"배송기간"}),(0,a.jsx)("span",{children:"2-3일"})]})]})]}),(0,a.jsx)(n.$,{variant:"outline",className:"w-full",asChild:!0,children:(0,a.jsxs)(g(),{href:"/products",children:[(0,a.jsx)(y,{className:"h-4 w-4 mr-2"}),"쇼핑 계속하기"]})})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"relative w-20 h-20",children:(0,a.jsx)(o.default,{src:"/character/youniqle-1.png",alt:"Youniqle 캐릭터",fill:!0,className:"object-contain",sizes:"80px"})})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"장바구니"}),(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"아직 담은 상품이 없습니다"})]}),(0,a.jsx)(i.Zp,{className:"shadow-lg",children:(0,a.jsxs)(i.Wu,{className:"p-12 text-center",children:[(0,a.jsx)(x.A,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"장바구니가 비어있습니다"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"마음에 드는 상품을 장바구니에 담아보세요!"}),(0,a.jsx)(n.$,{asChild:!0,size:"lg",children:(0,a.jsx)(g(),{href:"/products",children:"쇼핑하러 가기"})})]})})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(i.Zp,{className:"w-full max-w-md",children:(0,a.jsxs)(i.Wu,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto mb-4",children:(0,a.jsx)(o.default,{src:"/character/youniqle-1.png",alt:"Youniqle 캐릭터",fill:!0,className:"object-contain",sizes:"80px"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"로그인이 필요합니다"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"장바구니를 이용하려면 로그인해주세요."}),(0,a.jsx)(n.$,{asChild:!0,children:(0,a.jsx)(g(),{href:"/auth/signin",children:"로그인하기"})})]})})})}},1360:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1647:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(5155);t(2115);var r=t(3101),l=t(4269);let i=(0,r.F)("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-danger text-white hover:bg-danger/80",outline:"text-text-primary border-gray-300",success:"border-transparent bg-accent text-white hover:bg-accent/80"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},2514:(e,s,t)=>{Promise.resolve().then(t.bind(t,1299))},3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(5155),r=t(2115),l=t(2467),i=t(3101),n=t(4269);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 disabled:hover:scale-100",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-danger text-white hover:bg-danger/90",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-lg px-3",lg:"h-14 rounded-2xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:d=!1,...o}=e,x=d?l.DX:"button";return(0,a.jsx)(x,{className:(0,n.cn)(c({variant:r,size:i,className:t})),ref:s,...o})});d.displayName="Button"},4269:(e,s,t)=>{"use strict";t.d(s,{$g:()=>i,cn:()=>l});var a=t(2821),r=t(5889);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function i(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}},5142:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(5155),r=t(2115),l=t(4269);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-12 w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:s,...i})});i.displayName="Input"},5694:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(5155),r=t(5239),l=t(2115);function i(e){let{src:s,alt:t,fill:i=!1,width:n,height:c,className:d="",priority:o=!1,fallbackText:x="Y",sizes:h}=e,[m,u]=(0,l.useState)(!1);return m?(0,a.jsx)("div",{className:"".concat(d," bg-primary/10 rounded-lg flex items-center justify-center"),children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:x})}):(0,a.jsx)(r.default,{src:s,alt:t,fill:i,width:n,height:c,className:d,priority:o,sizes:h,onError:()=>u(!0)})}},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6398:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},6948:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=t(5155),r=t(2115),l=t(4269);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-2xl border bg-white text-gray-950 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-gray-600",t),...r})}).displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},7125:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},8519:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5105).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])}},e=>{e.O(0,[5239,2619,1691,6489,8441,1255,7358],()=>e(e.s=2514)),_N_E=e.O()}]);