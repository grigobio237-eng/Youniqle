(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3571],{512:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(5105).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},644:(e,a,r)=>{"use strict";r.d(a,{default:()=>p});var t=r(5155),s=r(2115),n=r(2619),l=r.n(n),i=r(3998),c=r(1647),o=r(5105);let d=(0,o.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),u=(0,o.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),m=[{name:"전체",value:""},{name:"신선식품",value:"fresh-food"},{name:"의류",value:"clothing"},{name:"신발",value:"shoes"},{name:"가방",value:"bags"},{name:"액세서리",value:"accessories"},{name:"생활용품",value:"lifestyle"},{name:"전자제품",value:"electronics"}],h=[{name:"최신순",value:"newest"},{name:"가격 낮은순",value:"price_asc"},{name:"가격 높은순",value:"price_desc"},{name:"인기순",value:"popular"}];function p(e){let{searchParams:a}=e,[r,n]=(0,s.useState)(!0),[o,p]=(0,s.useState)(!0),x=(e,r)=>{let t=new URLSearchParams;return(null==a?void 0:a.q)&&t.set("q",a.q),(null==a?void 0:a.category)&&t.set("category",a.category),(null==a?void 0:a.sort)&&t.set("sort",a.sort),r?t.set(e,r):t.delete(e),"/products?".concat(t.toString())};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"필터"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.$,{variant:"ghost",className:"w-full justify-between p-0 h-auto font-medium",onClick:()=>n(!r),children:["카테고리",r?(0,t.jsx)(d,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"})]}),r&&(0,t.jsx)("div",{className:"mt-3 space-y-2",children:m.map(e=>(0,t.jsx)(l(),{href:x("category",e.value),className:"block",children:(0,t.jsx)(c.E,{variant:(null==a?void 0:a.category)===e.value?"default":"outline",className:"w-full justify-start cursor-pointer hover:bg-primary/10 transition-colors",children:e.name})},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.$,{variant:"ghost",className:"w-full justify-between p-0 h-auto font-medium",onClick:()=>p(!o),children:["정렬",o?(0,t.jsx)(d,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"})]}),o&&(0,t.jsx)("div",{className:"mt-3 space-y-2",children:h.map(e=>(0,t.jsx)(l(),{href:x("sort",e.value),className:"block",children:(0,t.jsx)(c.E,{variant:(null==a?void 0:a.sort)===e.value?"default":"outline",className:"w-full justify-start cursor-pointer hover:bg-primary/10 transition-colors",children:e.name})},e.value))})]}),((null==a?void 0:a.category)||(null==a?void 0:a.sort))&&(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsx)(l(),{href:"/products",children:"필터 초기화"})})})]})}},1647:(e,a,r)=>{"use strict";r.d(a,{E:()=>i});var t=r(5155);r(2115);var s=r(3101),n=r(4269);let l=(0,s.F)("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-danger text-white hover:bg-danger/80",outline:"text-text-primary border-gray-300",success:"border-transparent bg-accent text-white hover:bg-accent/80"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:r,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:r}),a),...s})}},3457:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(5105).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3998:(e,a,r)=>{"use strict";r.d(a,{$:()=>o});var t=r(5155),s=r(2115),n=r(2467),l=r(3101),i=r(4269);let c=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 disabled:hover:scale-100",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-danger text-white hover:bg-danger/90",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-lg px-3",lg:"h-14 rounded-2xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,a)=>{let{className:r,variant:s,size:l,asChild:o=!1,...d}=e,u=o?n.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(c({variant:s,size:l,className:r})),ref:a,...d})});o.displayName="Button"},4269:(e,a,r)=>{"use strict";r.d(a,{$g:()=>l,cn:()=>n});var t=r(2821),s=r(5889);function n(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}function l(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}},5394:(e,a,r)=>{"use strict";r.d(a,{default:()=>p});var t=r(5155),s=r(2115),n=r(2619),l=r.n(n),i=r(5239),c=r(6948),o=r(3998),d=r(1647),u=r(4269),m=r(3457),h=r(512);function p(e){let{searchParams:a}=e,[r,n]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),[f,g]=(0,s.useState)({page:1,limit:20,total:0,pages:0});(0,s.useEffect)(()=>{(async()=>{try{x(!0);let e=new URLSearchParams;a.q&&e.append("q",a.q),a.category&&e.append("category",a.category),a.sort&&e.append("sort",a.sort),a.page&&e.append("page",a.page);let r=await fetch("/api/products?".concat(e.toString())),t=await r.json();r.ok?(n(t.products),g(t.pagination)):console.error("Failed to fetch products:",t.error)}catch(e){console.error("Error fetching products:",e)}finally{x(!1)}})()},[a]);let{addToCart:v,loading:y}=function(){let[e,a]=(0,s.useState)(!1);return{addToCart:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a(!0);try{let a=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,quantity:r})});if(a.ok)return await a.json(),!0;{let e=await a.json();return alert("장바구니 추가 실패: ".concat(e.error)),!1}}catch(e){return console.error("장바구니 추가 실패:",e),alert("장바구니 추가 중 오류가 발생했습니다."),!1}finally{a(!1)}},loading:e}}(),j=async e=>{await v(e,1)&&alert("장바구니에 추가되었습니다.")};return p?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,a)=>(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-200 animate-pulse rounded-t-2xl"}),(0,t.jsxs)(c.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 animate-pulse rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 animate-pulse rounded mb-4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-200 animate-pulse rounded w-20"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 animate-pulse rounded w-16"})]})]})]},a))}):0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-text-secondary text-lg",children:"상품을 찾을 수 없습니다."}),(0,t.jsx)("p",{className:"text-text-secondary text-sm mt-2",children:"다른 검색어로 시도해보세요."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>(0,t.jsxs)(c.Zp,{className:"overflow-hidden",children:[(0,t.jsx)(l(),{href:"/products/".concat(e._id),children:(0,t.jsxs)("div",{className:"aspect-square relative bg-gray-100",children:[e.images.length>0?(0,t.jsx)(i.default,{src:e.images[0].url,alt:e.name,fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw"}):(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,t.jsx)(m.A,{className:"h-12 w-12"})}),0===e.stock&&(0,t.jsx)(d.E,{className:"absolute top-3 left-3",variant:"destructive",children:"품절"})]})}),(0,t.jsxs)(c.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(d.E,{variant:"outline",className:"text-xs",children:e.category})}),(0,t.jsx)("h3",{className:"font-semibold mb-2 line-clamp-2",children:(0,t.jsx)(l(),{href:"/products/".concat(e._id),className:"hover:text-primary transition-colors",children:e.name})}),(0,t.jsx)("p",{className:"text-text-secondary text-sm mb-4 line-clamp-2",children:e.summary}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xl font-bold text-primary",children:(0,u.$g)(e.price)}),(0,t.jsxs)(o.$,{size:"sm",onClick:()=>j(e._id),disabled:0===e.stock||y,children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"}),0===e.stock?"품절":y?"추가중...":"담기"]})]})]})]},e._id))}),f.pages>1&&(0,t.jsx)("div",{className:"flex justify-center mt-12",children:(0,t.jsx)("div",{className:"flex space-x-2",children:Array.from({length:f.pages},(e,a)=>a+1).map(e=>(0,t.jsx)(o.$,{variant:e===f.page?"default":"outline",size:"sm",asChild:!0,children:(0,t.jsx)(l(),{href:"/products?".concat(new URLSearchParams({...a,page:e.toString()}).toString()),children:e})},e))})})]})}},6862:(e,a,r)=>{Promise.resolve().then(r.bind(r,644)),Promise.resolve().then(r.bind(r,5394))},6948:(e,a,r)=>{"use strict";r.d(a,{Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>i});var t=r(5155),s=r(2115),n=r(4269);let l=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-2xl border bg-white text-gray-950 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",r),...s})});l.displayName="Card";let i=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle",s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-gray-600",r),...s})}).displayName="CardDescription";let o=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"}},e=>{e.O(0,[5239,2619,1691,8441,1255,7358],()=>e(e.s=6862)),_N_E=e.O()}]);